Grammar

    0 $accept: Program $end

    1 Program: %empty
    2        | Program Stmt

    3 Stmt: SysStmt ';'
    4     | QueryStmt ';'

    5 SysStmt: CREATE DATABASE IDENTIFIER
    6        | DROP DATABASE IDENTIFIER
    7        | SHOW DATABASES
    8        | USE IDENTIFIER
    9        | SHOW TABLES
   10        | CREATE TABLE IDENTIFIER '(' FieldList ')'
   11        | DROP TABLE IDENTIFIER
   12        | DESC IDENTIFIER

   13 FieldList: Field
   14          | FieldList ',' Field

   15 Field: IDENTIFIER Type
   16      | IDENTIFIER Type NOT NUL
   17      | PRIMARY KEY '(' IDENTIFIER ')'

   18 Type: INT '(' VALUE_INT ')'
   19     | CHAR '(' VALUE_INT ')'
   20     | VARCHAR '(' VALUE_INT ')'

   21 QueryStmt: INSERT INTO IDENTIFIER VALUES ValueLists
   22          | DELETE FROM IDENTIFIER WHERE WhereClauseList
   23          | UPDATE IDENTIFIER SET SetClause WHERE WhereClauseList
   24          | SELECT Selector FROM TableList WHERE WhereClauseList

   25 ValueLists: '(' ValueList ')'
   26           | ValueLists ',' '(' ValueList ')'

   27 ValueList: Value
   28          | ValueList ',' Value

   29 Value: VALUE_INT
   30      | VALUE_STRING
   31      | NUL

   32 WhereClause: Column Operand Column
   33            | Column Operand Value
   34            | Column IS NUL
   35            | Column IS NOT NUL

   36 WhereClauseList: WhereClause
   37                | WhereClauseList AND WhereClause

   38 SetClause: IDENTIFIER '=' Value
   39          | SetClause ',' IDENTIFIER '=' Value

   40 Column: IDENTIFIER '.' IDENTIFIER
   41       | IDENTIFIER

   42 Selector: '*'
   43         | SelectorList

   44 SelectorList: Column
   45             | SelectorList ',' Column

   46 Operand: '='
   47        | NOT_EQUAL
   48        | '<'
   49        | '>'
   50        | LESS_EQUAL
   51        | GREATER_EQUAL

   52 TableList: IDENTIFIER
   53          | TableList ',' IDENTIFIER


Terminals, with rules where they appear

$end (0) 0
'(' (40) 10 17 18 19 20 25 26
')' (41) 10 17 18 19 20 25 26
'*' (42) 42
',' (44) 14 26 28 39 45 53
'.' (46) 40
';' (59) 3 4
'<' (60) 48
'=' (61) 38 39 46
'>' (62) 49
error (256)
CREATE (258) 5 10
DROP (259) 6 11
SHOW (260) 7 9
USE (261) 8
DESC (262) 12
DATABASE (263) 5 6
DATABASES (264) 7
TABLE (265) 10 11
TABLES (266) 9
INT (267) 18
VARCHAR (268) 20
CHAR (269) 19
IS (270) 34 35
NOT (271) 16 35
NUL (272) 16 31 34 35
PRIMARY (273) 17
KEY (274) 17
INSERT (275) 21
INTO (276) 21
VALUES (277) 21
DELETE (278) 22
FROM (279) 22 24
UPDATE (280) 23
SET (281) 23
WHERE (282) 22 23 24
SELECT (283) 24
AND (284) 37
NOT_EQUAL (285) 47
GREATER_EQUAL (286) 51
LESS_EQUAL (287) 50
IDENTIFIER (288) 5 6 8 10 11 12 15 16 17 21 22 23 38 39 40 41 52 53
VALUE_STRING (289) 30
VALUE_INT (290) 18 19 20 29


Nonterminals, with rules where they appear

$accept (45)
    on left: 0
Program (46)
    on left: 1 2, on right: 0 2
Stmt (47)
    on left: 3 4, on right: 2
SysStmt (48)
    on left: 5 6 7 8 9 10 11 12, on right: 3
FieldList (49)
    on left: 13 14, on right: 10 14
Field (50)
    on left: 15 16 17, on right: 13 14
Type (51)
    on left: 18 19 20, on right: 15 16
QueryStmt (52)
    on left: 21 22 23 24, on right: 4
ValueLists (53)
    on left: 25 26, on right: 21 26
ValueList (54)
    on left: 27 28, on right: 25 26 28
Value (55)
    on left: 29 30 31, on right: 27 28 33 38 39
WhereClause (56)
    on left: 32 33 34 35, on right: 36 37
WhereClauseList (57)
    on left: 36 37, on right: 22 23 24 37
SetClause (58)
    on left: 38 39, on right: 23 39
Column (59)
    on left: 40 41, on right: 32 33 34 35 44 45
Selector (60)
    on left: 42 43, on right: 24
SelectorList (61)
    on left: 44 45, on right: 43 45
Operand (62)
    on left: 46 47 48 49 50 51, on right: 32 33
TableList (63)
    on left: 52 53, on right: 24 53


State 0

    0 $accept: . Program $end

    $default  reduce using rule 1 (Program)

    Program  go to state 1


State 1

    0 $accept: Program . $end
    2 Program: Program . Stmt

    $end    shift, and go to state 2
    CREATE  shift, and go to state 3
    DROP    shift, and go to state 4
    SHOW    shift, and go to state 5
    USE     shift, and go to state 6
    DESC    shift, and go to state 7
    INSERT  shift, and go to state 8
    DELETE  shift, and go to state 9
    UPDATE  shift, and go to state 10
    SELECT  shift, and go to state 11

    Stmt       go to state 12
    SysStmt    go to state 13
    QueryStmt  go to state 14


State 2

    0 $accept: Program $end .

    $default  accept


State 3

    5 SysStmt: CREATE . DATABASE IDENTIFIER
   10        | CREATE . TABLE IDENTIFIER '(' FieldList ')'

    DATABASE  shift, and go to state 15
    TABLE     shift, and go to state 16


State 4

    6 SysStmt: DROP . DATABASE IDENTIFIER
   11        | DROP . TABLE IDENTIFIER

    DATABASE  shift, and go to state 17
    TABLE     shift, and go to state 18


State 5

    7 SysStmt: SHOW . DATABASES
    9        | SHOW . TABLES

    DATABASES  shift, and go to state 19
    TABLES     shift, and go to state 20


State 6

    8 SysStmt: USE . IDENTIFIER

    IDENTIFIER  shift, and go to state 21


State 7

   12 SysStmt: DESC . IDENTIFIER

    IDENTIFIER  shift, and go to state 22


State 8

   21 QueryStmt: INSERT . INTO IDENTIFIER VALUES ValueLists

    INTO  shift, and go to state 23


State 9

   22 QueryStmt: DELETE . FROM IDENTIFIER WHERE WhereClauseList

    FROM  shift, and go to state 24


State 10

   23 QueryStmt: UPDATE . IDENTIFIER SET SetClause WHERE WhereClauseList

    IDENTIFIER  shift, and go to state 25


State 11

   24 QueryStmt: SELECT . Selector FROM TableList WHERE WhereClauseList

    IDENTIFIER  shift, and go to state 26
    '*'         shift, and go to state 27

    Column        go to state 28
    Selector      go to state 29
    SelectorList  go to state 30


State 12

    2 Program: Program Stmt .

    $default  reduce using rule 2 (Program)


State 13

    3 Stmt: SysStmt . ';'

    ';'  shift, and go to state 31


State 14

    4 Stmt: QueryStmt . ';'

    ';'  shift, and go to state 32


State 15

    5 SysStmt: CREATE DATABASE . IDENTIFIER

    IDENTIFIER  shift, and go to state 33


State 16

   10 SysStmt: CREATE TABLE . IDENTIFIER '(' FieldList ')'

    IDENTIFIER  shift, and go to state 34


State 17

    6 SysStmt: DROP DATABASE . IDENTIFIER

    IDENTIFIER  shift, and go to state 35


State 18

   11 SysStmt: DROP TABLE . IDENTIFIER

    IDENTIFIER  shift, and go to state 36


State 19

    7 SysStmt: SHOW DATABASES .

    $default  reduce using rule 7 (SysStmt)


State 20

    9 SysStmt: SHOW TABLES .

    $default  reduce using rule 9 (SysStmt)


State 21

    8 SysStmt: USE IDENTIFIER .

    $default  reduce using rule 8 (SysStmt)


State 22

   12 SysStmt: DESC IDENTIFIER .

    $default  reduce using rule 12 (SysStmt)


State 23

   21 QueryStmt: INSERT INTO . IDENTIFIER VALUES ValueLists

    IDENTIFIER  shift, and go to state 37


State 24

   22 QueryStmt: DELETE FROM . IDENTIFIER WHERE WhereClauseList

    IDENTIFIER  shift, and go to state 38


State 25

   23 QueryStmt: UPDATE IDENTIFIER . SET SetClause WHERE WhereClauseList

    SET  shift, and go to state 39


State 26

   40 Column: IDENTIFIER . '.' IDENTIFIER
   41       | IDENTIFIER .

    '.'  shift, and go to state 40

    $default  reduce using rule 41 (Column)


State 27

   42 Selector: '*' .

    $default  reduce using rule 42 (Selector)


State 28

   44 SelectorList: Column .

    $default  reduce using rule 44 (SelectorList)


State 29

   24 QueryStmt: SELECT Selector . FROM TableList WHERE WhereClauseList

    FROM  shift, and go to state 41


State 30

   43 Selector: SelectorList .
   45 SelectorList: SelectorList . ',' Column

    ','  shift, and go to state 42

    $default  reduce using rule 43 (Selector)


State 31

    3 Stmt: SysStmt ';' .

    $default  reduce using rule 3 (Stmt)


State 32

    4 Stmt: QueryStmt ';' .

    $default  reduce using rule 4 (Stmt)


State 33

    5 SysStmt: CREATE DATABASE IDENTIFIER .

    $default  reduce using rule 5 (SysStmt)


State 34

   10 SysStmt: CREATE TABLE IDENTIFIER . '(' FieldList ')'

    '('  shift, and go to state 43


State 35

    6 SysStmt: DROP DATABASE IDENTIFIER .

    $default  reduce using rule 6 (SysStmt)


State 36

   11 SysStmt: DROP TABLE IDENTIFIER .

    $default  reduce using rule 11 (SysStmt)


State 37

   21 QueryStmt: INSERT INTO IDENTIFIER . VALUES ValueLists

    VALUES  shift, and go to state 44


State 38

   22 QueryStmt: DELETE FROM IDENTIFIER . WHERE WhereClauseList

    WHERE  shift, and go to state 45


State 39

   23 QueryStmt: UPDATE IDENTIFIER SET . SetClause WHERE WhereClauseList

    IDENTIFIER  shift, and go to state 46

    SetClause  go to state 47


State 40

   40 Column: IDENTIFIER '.' . IDENTIFIER

    IDENTIFIER  shift, and go to state 48


State 41

   24 QueryStmt: SELECT Selector FROM . TableList WHERE WhereClauseList

    IDENTIFIER  shift, and go to state 49

    TableList  go to state 50


State 42

   45 SelectorList: SelectorList ',' . Column

    IDENTIFIER  shift, and go to state 26

    Column  go to state 51


State 43

   10 SysStmt: CREATE TABLE IDENTIFIER '(' . FieldList ')'

    PRIMARY     shift, and go to state 52
    IDENTIFIER  shift, and go to state 53

    FieldList  go to state 54
    Field      go to state 55


State 44

   21 QueryStmt: INSERT INTO IDENTIFIER VALUES . ValueLists

    '('  shift, and go to state 56

    ValueLists  go to state 57


State 45

   22 QueryStmt: DELETE FROM IDENTIFIER WHERE . WhereClauseList

    IDENTIFIER  shift, and go to state 26

    WhereClause      go to state 58
    WhereClauseList  go to state 59
    Column           go to state 60


State 46

   38 SetClause: IDENTIFIER . '=' Value

    '='  shift, and go to state 61


State 47

   23 QueryStmt: UPDATE IDENTIFIER SET SetClause . WHERE WhereClauseList
   39 SetClause: SetClause . ',' IDENTIFIER '=' Value

    WHERE  shift, and go to state 62
    ','    shift, and go to state 63


State 48

   40 Column: IDENTIFIER '.' IDENTIFIER .

    $default  reduce using rule 40 (Column)


State 49

   52 TableList: IDENTIFIER .

    $default  reduce using rule 52 (TableList)


State 50

   24 QueryStmt: SELECT Selector FROM TableList . WHERE WhereClauseList
   53 TableList: TableList . ',' IDENTIFIER

    WHERE  shift, and go to state 64
    ','    shift, and go to state 65


State 51

   45 SelectorList: SelectorList ',' Column .

    $default  reduce using rule 45 (SelectorList)


State 52

   17 Field: PRIMARY . KEY '(' IDENTIFIER ')'

    KEY  shift, and go to state 66


State 53

   15 Field: IDENTIFIER . Type
   16      | IDENTIFIER . Type NOT NUL

    INT      shift, and go to state 67
    VARCHAR  shift, and go to state 68
    CHAR     shift, and go to state 69

    Type  go to state 70


State 54

   10 SysStmt: CREATE TABLE IDENTIFIER '(' FieldList . ')'
   14 FieldList: FieldList . ',' Field

    ')'  shift, and go to state 71
    ','  shift, and go to state 72


State 55

   13 FieldList: Field .

    $default  reduce using rule 13 (FieldList)


State 56

   25 ValueLists: '(' . ValueList ')'

    NUL           shift, and go to state 73
    VALUE_STRING  shift, and go to state 74
    VALUE_INT     shift, and go to state 75

    ValueList  go to state 76
    Value      go to state 77


State 57

   21 QueryStmt: INSERT INTO IDENTIFIER VALUES ValueLists .
   26 ValueLists: ValueLists . ',' '(' ValueList ')'

    ','  shift, and go to state 78

    $default  reduce using rule 21 (QueryStmt)


State 58

   36 WhereClauseList: WhereClause .

    $default  reduce using rule 36 (WhereClauseList)


State 59

   22 QueryStmt: DELETE FROM IDENTIFIER WHERE WhereClauseList .
   37 WhereClauseList: WhereClauseList . AND WhereClause

    AND  shift, and go to state 79

    $default  reduce using rule 22 (QueryStmt)


State 60

   32 WhereClause: Column . Operand Column
   33            | Column . Operand Value
   34            | Column . IS NUL
   35            | Column . IS NOT NUL

    IS             shift, and go to state 80
    NOT_EQUAL      shift, and go to state 81
    GREATER_EQUAL  shift, and go to state 82
    LESS_EQUAL     shift, and go to state 83
    '='            shift, and go to state 84
    '>'            shift, and go to state 85
    '<'            shift, and go to state 86

    Operand  go to state 87


State 61

   38 SetClause: IDENTIFIER '=' . Value

    NUL           shift, and go to state 73
    VALUE_STRING  shift, and go to state 74
    VALUE_INT     shift, and go to state 75

    Value  go to state 88


State 62

   23 QueryStmt: UPDATE IDENTIFIER SET SetClause WHERE . WhereClauseList

    IDENTIFIER  shift, and go to state 26

    WhereClause      go to state 58
    WhereClauseList  go to state 89
    Column           go to state 60


State 63

   39 SetClause: SetClause ',' . IDENTIFIER '=' Value

    IDENTIFIER  shift, and go to state 90


State 64

   24 QueryStmt: SELECT Selector FROM TableList WHERE . WhereClauseList

    IDENTIFIER  shift, and go to state 26

    WhereClause      go to state 58
    WhereClauseList  go to state 91
    Column           go to state 60


State 65

   53 TableList: TableList ',' . IDENTIFIER

    IDENTIFIER  shift, and go to state 92


State 66

   17 Field: PRIMARY KEY . '(' IDENTIFIER ')'

    '('  shift, and go to state 93


State 67

   18 Type: INT . '(' VALUE_INT ')'

    '('  shift, and go to state 94


State 68

   20 Type: VARCHAR . '(' VALUE_INT ')'

    '('  shift, and go to state 95


State 69

   19 Type: CHAR . '(' VALUE_INT ')'

    '('  shift, and go to state 96


State 70

   15 Field: IDENTIFIER Type .
   16      | IDENTIFIER Type . NOT NUL

    NOT  shift, and go to state 97

    $default  reduce using rule 15 (Field)


State 71

   10 SysStmt: CREATE TABLE IDENTIFIER '(' FieldList ')' .

    $default  reduce using rule 10 (SysStmt)


State 72

   14 FieldList: FieldList ',' . Field

    PRIMARY     shift, and go to state 52
    IDENTIFIER  shift, and go to state 53

    Field  go to state 98


State 73

   31 Value: NUL .

    $default  reduce using rule 31 (Value)


State 74

   30 Value: VALUE_STRING .

    $default  reduce using rule 30 (Value)


State 75

   29 Value: VALUE_INT .

    $default  reduce using rule 29 (Value)


State 76

   25 ValueLists: '(' ValueList . ')'
   28 ValueList: ValueList . ',' Value

    ')'  shift, and go to state 99
    ','  shift, and go to state 100


State 77

   27 ValueList: Value .

    $default  reduce using rule 27 (ValueList)


State 78

   26 ValueLists: ValueLists ',' . '(' ValueList ')'

    '('  shift, and go to state 101


State 79

   37 WhereClauseList: WhereClauseList AND . WhereClause

    IDENTIFIER  shift, and go to state 26

    WhereClause  go to state 102
    Column       go to state 60


State 80

   34 WhereClause: Column IS . NUL
   35            | Column IS . NOT NUL

    NOT  shift, and go to state 103
    NUL  shift, and go to state 104


State 81

   47 Operand: NOT_EQUAL .

    $default  reduce using rule 47 (Operand)


State 82

   51 Operand: GREATER_EQUAL .

    $default  reduce using rule 51 (Operand)


State 83

   50 Operand: LESS_EQUAL .

    $default  reduce using rule 50 (Operand)


State 84

   46 Operand: '=' .

    $default  reduce using rule 46 (Operand)


State 85

   49 Operand: '>' .

    $default  reduce using rule 49 (Operand)


State 86

   48 Operand: '<' .

    $default  reduce using rule 48 (Operand)


State 87

   32 WhereClause: Column Operand . Column
   33            | Column Operand . Value

    NUL           shift, and go to state 73
    IDENTIFIER    shift, and go to state 26
    VALUE_STRING  shift, and go to state 74
    VALUE_INT     shift, and go to state 75

    Value   go to state 105
    Column  go to state 106


State 88

   38 SetClause: IDENTIFIER '=' Value .

    $default  reduce using rule 38 (SetClause)


State 89

   23 QueryStmt: UPDATE IDENTIFIER SET SetClause WHERE WhereClauseList .
   37 WhereClauseList: WhereClauseList . AND WhereClause

    AND  shift, and go to state 79

    $default  reduce using rule 23 (QueryStmt)


State 90

   39 SetClause: SetClause ',' IDENTIFIER . '=' Value

    '='  shift, and go to state 107


State 91

   24 QueryStmt: SELECT Selector FROM TableList WHERE WhereClauseList .
   37 WhereClauseList: WhereClauseList . AND WhereClause

    AND  shift, and go to state 79

    $default  reduce using rule 24 (QueryStmt)


State 92

   53 TableList: TableList ',' IDENTIFIER .

    $default  reduce using rule 53 (TableList)


State 93

   17 Field: PRIMARY KEY '(' . IDENTIFIER ')'

    IDENTIFIER  shift, and go to state 108


State 94

   18 Type: INT '(' . VALUE_INT ')'

    VALUE_INT  shift, and go to state 109


State 95

   20 Type: VARCHAR '(' . VALUE_INT ')'

    VALUE_INT  shift, and go to state 110


State 96

   19 Type: CHAR '(' . VALUE_INT ')'

    VALUE_INT  shift, and go to state 111


State 97

   16 Field: IDENTIFIER Type NOT . NUL

    NUL  shift, and go to state 112


State 98

   14 FieldList: FieldList ',' Field .

    $default  reduce using rule 14 (FieldList)


State 99

   25 ValueLists: '(' ValueList ')' .

    $default  reduce using rule 25 (ValueLists)


State 100

   28 ValueList: ValueList ',' . Value

    NUL           shift, and go to state 73
    VALUE_STRING  shift, and go to state 74
    VALUE_INT     shift, and go to state 75

    Value  go to state 113


State 101

   26 ValueLists: ValueLists ',' '(' . ValueList ')'

    NUL           shift, and go to state 73
    VALUE_STRING  shift, and go to state 74
    VALUE_INT     shift, and go to state 75

    ValueList  go to state 114
    Value      go to state 77


State 102

   37 WhereClauseList: WhereClauseList AND WhereClause .

    $default  reduce using rule 37 (WhereClauseList)


State 103

   35 WhereClause: Column IS NOT . NUL

    NUL  shift, and go to state 115


State 104

   34 WhereClause: Column IS NUL .

    $default  reduce using rule 34 (WhereClause)


State 105

   33 WhereClause: Column Operand Value .

    $default  reduce using rule 33 (WhereClause)


State 106

   32 WhereClause: Column Operand Column .

    $default  reduce using rule 32 (WhereClause)


State 107

   39 SetClause: SetClause ',' IDENTIFIER '=' . Value

    NUL           shift, and go to state 73
    VALUE_STRING  shift, and go to state 74
    VALUE_INT     shift, and go to state 75

    Value  go to state 116


State 108

   17 Field: PRIMARY KEY '(' IDENTIFIER . ')'

    ')'  shift, and go to state 117


State 109

   18 Type: INT '(' VALUE_INT . ')'

    ')'  shift, and go to state 118


State 110

   20 Type: VARCHAR '(' VALUE_INT . ')'

    ')'  shift, and go to state 119


State 111

   19 Type: CHAR '(' VALUE_INT . ')'

    ')'  shift, and go to state 120


State 112

   16 Field: IDENTIFIER Type NOT NUL .

    $default  reduce using rule 16 (Field)


State 113

   28 ValueList: ValueList ',' Value .

    $default  reduce using rule 28 (ValueList)


State 114

   26 ValueLists: ValueLists ',' '(' ValueList . ')'
   28 ValueList: ValueList . ',' Value

    ')'  shift, and go to state 121
    ','  shift, and go to state 100


State 115

   35 WhereClause: Column IS NOT NUL .

    $default  reduce using rule 35 (WhereClause)


State 116

   39 SetClause: SetClause ',' IDENTIFIER '=' Value .

    $default  reduce using rule 39 (SetClause)


State 117

   17 Field: PRIMARY KEY '(' IDENTIFIER ')' .

    $default  reduce using rule 17 (Field)


State 118

   18 Type: INT '(' VALUE_INT ')' .

    $default  reduce using rule 18 (Type)


State 119

   20 Type: VARCHAR '(' VALUE_INT ')' .

    $default  reduce using rule 20 (Type)


State 120

   19 Type: CHAR '(' VALUE_INT ')' .

    $default  reduce using rule 19 (Type)


State 121

   26 ValueLists: ValueLists ',' '(' ValueList ')' .

    $default  reduce using rule 26 (ValueLists)
